<!DOCTYPE html>
<html>
<head>

<style>
  h2 { font-size: 1.1em; margin: 0.1em; }
  div.sample { border: solid #000 1px; display: inline-block; vertical-align: top; }
</style>

</head>
<body>


This is an example page.  It had many sample elements:<br>
<div class="sample">
<h2>Inputs without labels:</h2>
Name: <input name="name" size="15" type="text" /><br>
Address: <TEXTAREA NAME="address" ROWS=3 COLS=30 ></TEXTAREA><br>
Type: <select name="type">
<option>Home</option>
<option>Office</option>
<option>Family</option>
</select><br>
Phone: <input name="phone" size="15" type="text" />
<input name="phone" type="checkbox" value="business" /> business
<input name="phone" type="checkbox" value="personal" /> personal
<input name="phone" type="checkbox" value="other" /> other
<br>
A save button: <button>Save</button><br>
An ok button: <button id="slowok">OK</button><br>
A cancel button: <button>Cancel</button><br>
And finally, it has a link <a href="http://www.google.com/">going away</a>
</div>

<div class="sample">
<h2>Inputs with labels:</h2>
<label for="input_name">Last Name:</label>
<input id="input_name" name="name" size="15" type="text" /><br>
<label for="input_address">Address:</label>
<textarea id="input_address" name="address" rows=3 cols=30></textarea><br>
<label for="input_type">Type:</label>
<select id="input_type" name="type">
<option>Home</option>
<option>Office</option>
<option>Family</option>
</select><br>
<label for="input_phone">Phone:</label>

<input id="input_phone" name="phone" size="15" type="text" />
<input id="input_business" name="phone" type="checkbox" value="business" /> <label for="input_business">business</label>
<input id="input_personal" name="phone" type="checkbox" value="personal" /> <label for="input_personal">personal</label>
<input id="input_other" name="phone" type="checkbox" value="other" /> <label for="input_other">other</label>
<br>
A save button: <button>Save</button><br>
An ok button: <button>OK</button><br>
A cancel button: <button>Cancel</button><br>
And finally, it has a link <a href="http://www.google.com/">going away</a>
</div>

<div class="sample">
<h2>Inputs w/o labels, but using IDs:</h2>
Name: <input id="name" name="name" size="15" type="text" /><br>
Address: <TEXTAREA id="address" NAME="address" ROWS=3 COLS=30 ></TEXTAREA><br>
Type: <select id="type" name="type">
<option>Home</option>
<option>Office</option>
<option>Family</option>
</select><br>
Phone: <input id="phone" name="phone" size="15" type="text" />
<input id="business" name="phone" type="checkbox" value="business" /> business
<input id="personal" name="phone" type="checkbox" value="personal" /> personal
<input id="other" name="phone" type="checkbox" value="other" /> other
<br>
A save button: <button id="save">Save</button><br>
An ok button: <button id="ok">OK</button><br>
A cancel button: <button id="cancel">Cancel</button><br>
And finally, it has a link <a href="http://www.google.com/">going away</a>
</div>

<script type="text/javascript">
'use strict';

var runonce=false;

var herbie_sample_script = 'Type "hi" in to "Address" input.\r' +
	'Fill out the following fields: \r' +
	'* Last Name: Horner\r' +
	'* Phone: 260-459-6270\r' +
	'Click on the "Save" button.\r' +
	'Click "OK".\r' +
	'Type "finally" in "Slow Input"\r' +
	'Click on the "going away" link.\r' +
	'Type "it worked" in "#lst-ib"';

(function() {
	var button = document.getElementById('slowok');

	function slowokclick(e){
		if (runonce) {
			return;
		}
		runonce = true;
		setTimeout(function() {
			var btn = e.target || e.srcElement;
			var span = document.createElement('span');
			span.innerHTML = '<label for="input_slow">Slow Input:</label><input id="input_slow" name="slowly" size="15" type="text" /><br>';
			btn.parentNode.insertBefore(span, btn.nextSibling.nextSibling);
//			while (span.children.length > 0) {  // waiting for Doug to delete this, breaks SONAR rules
//				btn.appendChild(span.children[0]);
//			}
		}, 1500);
	}

	function TryJQuery() {
		if (typeof(jQuery) !== 'undefined') {
			jQuery.getScript('../dist/jquery.simulate.js');
			jQuery.getScript('../dist/bililiteRange.js');
			jQuery.getScript('../dist/jquery.simulate.ext.js');
			jQuery.getScript('../dist/jquery.simulate.drag-n-drop.js');
			jQuery.getScript('../dist/jquery.simulate.key-sequence.js');
			jQuery.getScript('../dist/jquery.simulate.key-combo.js');
			jQuery.getScript('../src/inspector.js');
			jQuery.getScript('../src/herbie.js', TryHerbie);
		} else {
			setTimeout(TryJQuery, 200);
		}
	}

	function TryHerbie() {
		if (typeof(Herbie) !== 'undefined') {
			Herbie.BuildUI('../src/', herbie_sample_script);
		} else {
			setTimeout(TryHerbie, 200);
		}
	}

	if (document.addEventListener) {
		button.addEventListener('click', slowokclick, false);
	} else if ( document.attachEvent ) {
		button.attachEvent('onclick', slowokclick);
	}

	// If #run_herbie is on the URL, then we can load this in the page.
	if (window.location.hash==='#run_herbie') {
		// old IE has an issue with executing dynamically loaded scripts in the right order
		// jQuery has a fix for this so I'm loading just jQuery first
		var fileref = document.createElement('script');

		fileref.async = false;
		fileref.setAttribute('type', 'text/javascript');
		fileref.setAttribute('src', '../dist/jquery.min.js');
		document.getElementsByTagName('head')[0].appendChild(fileref);
		setTimeout(TryJQuery, 10);
	}
})();
</script>
</body>
</html>
